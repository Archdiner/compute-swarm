# ============================================
# ComputeSwarm Environment Configuration
# ============================================
# Copy this file to .env and fill in your values
# cp .env.example .env

# ===== MARKETPLACE SERVER CONFIGURATION =====
MARKETPLACE_HOST=0.0.0.0
MARKETPLACE_PORT=8000
MARKETPLACE_WORKERS=4

# ===== BLOCKCHAIN NETWORK =====
# Options: base-sepolia, base-mainnet
NETWORK=base-sepolia
RPC_URL=https://sepolia.base.org

# ===== PAYMENT CONFIGURATION =====
# USDC contract address on Base Sepolia
USDC_CONTRACT_ADDRESS=0x036CbD53842c5426634e7929541eC2318f3dCF7e
PAYMENT_TOKEN=USDC
MIN_BALANCE_WARNING=10.0

# ===== x402 PROTOCOL =====
X402_ENABLED=true
PAYMENT_CHALLENGE_TIMEOUT=300
PAYMENT_VERIFICATION_RETRIES=3

# Testnet mode: true = simulated payments, false = real USDC transfers
TESTNET_MODE=true

# ===== SUPABASE DATABASE =====
# Get these from your Supabase project settings
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here

# ===== SUPABASE STORAGE =====
SUPABASE_STORAGE_BUCKET=job-files
FILE_EXPIRY_HOURS=24
MAX_FILE_SIZE_MB=100

# ===== CORS CONFIGURATION =====
# Add your frontend URL(s) here (comma-separated)
CORS_ORIGINS=http://localhost:3000

# ===== LOGGING =====
LOG_LEVEL=INFO
LOG_FORMAT=json
DEBUG=false
RELOAD=false

# ===== SELLER CONFIGURATION =====
# Private key for receiving payments (keep this secret!)
# Generate a new wallet or use an existing one
SELLER_PRIVATE_KEY=0x...
SELLER_ADDRESS=

# Pricing (USD per hour)
DEFAULT_PRICE_PER_HOUR_MPS=0.50
DEFAULT_PRICE_PER_HOUR_CUDA=2.00

# Marketplace connection
MARKETPLACE_URL=http://localhost:8000

# Compute limits
MAX_CONCURRENT_JOBS=1
JOB_TIMEOUT=3600
NOTEBOOK_TIMEOUT=7200
CONTAINER_TIMEOUT=10800

# Docker configuration
DOCKER_ENABLED=true
DOCKER_IMAGE=computeswarm-sandbox:latest
DOCKER_IMAGE_GPU=computeswarm-sandbox-gpu:latest
DOCKER_MEMORY_LIMIT=4g
DOCKER_CPU_LIMIT=2.0
DOCKER_PIDS_LIMIT=100
DOCKER_TMPFS_SIZE=1g

# Model cache (for persistent HuggingFace/PyTorch models)
MODEL_CACHE_DIR=~/.cache/computeswarm
MODEL_CACHE_ENABLED=true

# Session configuration
JUPYTER_DOCKER_IMAGE=jupyter/scipy-notebook:latest
JUPYTER_PORT_RANGE_START=8888
JUPYTER_PORT_RANGE_END=8988
PUBLIC_HOST=localhost

# ===== BUYER CONFIGURATION =====
# Private key for sending payments (keep this secret!)
BUYER_PRIVATE_KEY=0x...
BUYER_ADDRESS=

# Budget limits
MAX_HOURLY_BUDGET=10.0
AUTO_APPROVE_THRESHOLD=1.0

# ===== OPTIONAL: GITHUB OAUTH (for seller verification) =====
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_CALLBACK_URL=http://localhost:8000/auth/github/callback

# ===== OPTIONAL: NGROK (for public session access) =====
NGROK_ENABLED=false
NGROK_AUTH_TOKEN=

# ===== OPTIONAL: COINBASE DEVELOPER PLATFORM =====
CDP_API_KEY=
CDP_API_SECRET=

# ===== SESSION CONFIGURATION =====
DEFAULT_SESSION_DURATION_MINUTES=60
MAX_SESSION_DURATION_MINUTES=480
SESSION_HEARTBEAT_INTERVAL=60
